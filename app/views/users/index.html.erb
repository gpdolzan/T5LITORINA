<h1>Usuários</h1>

<div class="mb-3">
  <%= link_to "Novo Usuário", new_user_path, class: "btn btn-primary" if admin? %>
</div>

<div class="card">
  <div class="card-body">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Nome</th>
          <th>Email</th>
          <th>Papel</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <% @users.each do |user| %>
          <tr>            <td><%= user.name %></td>
            <td><%= user.email %></td>
            <td><%= user.role == "admin" ? "Administrador" : "Aluno" %></td>
            <td>
              <%= link_to "Visualizar", user_path(user), class: "btn btn-sm btn-info" %>
              <%= link_to "Editar", edit_user_path(user), class: "btn btn-sm btn-warning" if admin? %>
              <%= button_to "Excluir", user_path(user), method: :delete, form: { data: { turbo_confirm: "Tem certeza?" }, style: "display:inline-block;" }, class: "btn btn-sm btn-danger" if admin? %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
